{"version":3,"file":"js/260.34f07697.js","mappings":"+JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,cAAcH,EAAG,OAAO,CAACI,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,OAAS,SAASC,GAAgC,OAAxBA,EAAOC,iBAAwBT,EAAIU,aAAaC,MAAM,KAAMC,UAAU,IAAI,CAAGZ,EAAIa,WAA4oEb,EAAIc,KAApoEZ,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,aAAa,CAACN,EAAIK,GAAG,cAAcH,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOlB,EAAImB,WAAWC,SAAUC,WAAW,uBAAuB,CAACL,KAAK,WAAWC,QAAQ,aAAaC,MAAO,wBAAyBG,WAAW,4BAA4BjB,YAAY,eAAeE,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,KAAO,YAAYgB,SAAS,CAAC,MAAStB,EAAImB,WAAWC,UAAWb,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOe,OAAOC,WAAiBxB,EAAIyB,KAAKzB,EAAImB,WAAY,WAAYX,EAAOe,OAAOL,MAAM,KAAMlB,EAAI0B,WAAa1B,EAAI2B,OAAOC,IAAI,YAAa1B,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACJ,EAAIK,GAAGL,EAAI6B,GAAG7B,EAAI2B,OAAOG,MAAM,gBAAgB9B,EAAIc,OAAOZ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,UAAU,CAACN,EAAIK,GAAG,WAAWH,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOlB,EAAImB,WAAWY,MAAOV,WAAW,oBAAoB,CAACL,KAAK,WAAWC,QAAQ,aAAaC,MAAO,wBAAyBG,WAAW,4BAA4BjB,YAAY,eAAeE,MAAM,CAAC,KAAO,QAAQ,GAAK,QAAQ,KAAO,SAASgB,SAAS,CAAC,MAAStB,EAAImB,WAAWY,OAAQxB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOe,OAAOC,WAAiBxB,EAAIyB,KAAKzB,EAAImB,WAAY,QAASX,EAAOe,OAAOL,MAAM,KAAMlB,EAAI0B,WAAa1B,EAAI2B,OAAOC,IAAI,SAAU1B,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACJ,EAAIK,GAAGL,EAAI6B,GAAG7B,EAAI2B,OAAOG,MAAM,aAAa9B,EAAIc,OAAOZ,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,IAAM,aAAa,CAACN,EAAIK,GAAG,cAAcH,EAAG,QAAQ,CAACa,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOlB,EAAImB,WAAWa,SAAUX,WAAW,uBAAuB,CAACL,KAAK,WAAWC,QAAQ,aAAaC,MAAO,wBAAyBG,WAAW,4BAA4BjB,YAAY,eAAeE,MAAM,CAAC,KAAO,WAAW,GAAK,WAAW,KAAO,YAAYgB,SAAS,CAAC,MAAStB,EAAImB,WAAWa,UAAWzB,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAOe,OAAOC,WAAiBxB,EAAIyB,KAAKzB,EAAImB,WAAY,WAAYX,EAAOe,OAAOL,MAAM,KAAMlB,EAAI0B,WAAa1B,EAAI2B,OAAOC,IAAI,YAAa1B,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACJ,EAAIK,GAAGL,EAAI6B,GAAG7B,EAAIiC,gBAAgB,gBAAgBjC,EAAIc,OAAOd,EAAIkC,GAAG,OAAiBlC,EAAImC,QAASjC,EAAG,MAAM,CAACE,YAAY,QAAQgC,MAAMpC,EAAIa,WAAa,gBAAkB,gBAAgB,CAACb,EAAIK,GAAG,IAAIL,EAAI6B,GAAG7B,EAAImC,SAAS,KAAKjC,EAAG,cAAc,CAACI,MAAM,CAAC,GAAK,WAAW,CAACJ,EAAG,SAAS,CAACE,YAAY,kBAAkBE,MAAM,CAAC,KAAO,WAAW,CAACN,EAAIK,GAAG,aAAa,GAAGL,EAAIc,MAChsF,EACIuB,EAAkB,CAAC,WAAY,IAAIrC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACE,YAAY,kBAAkBE,MAAM,CAAC,KAAO,WAAW,CAACN,EAAIK,GAAG,eACxL,G,SCmCA,GACAW,KAAA,aACAsB,IAAAA,GACA,OACAnB,WAAA,CACAC,SAAA,GACAW,MAAA,GACAC,SAAA,IAEAN,WAAA,EACAb,YAAA,EACAsB,QAAA,GAEA,EACAI,SAAA,CACAC,WAAAA,GACA,YAAAC,OAAAC,MAAAC,KAAAC,IACA,MACAC,EAAAA,EAAAA,IAAA,kBAEAC,OAAAA,GACA,KAAAN,aACA,KAAAO,QAAAC,KAAA,eAEA,EACAC,MAAA,CACAL,KAAA,CACAM,OAAAA,CAAAC,GACAA,GAAAA,EAAA/B,UACA+B,EAAA/B,UAAA+B,EAAApB,QACA,KAAAZ,WAAAC,SAAA+B,EAAA/B,SACA,KAAAD,WAAAY,MAAAoB,EAAApB,MAGA,EACAqB,WAAA,IAGAC,QAAA,CACA3C,YAAAA,GACA,KAAAyB,QAAA,GACA,KAAAT,WAAA,EACA,KAAA4B,WAAAC,WAAAC,MAAAC,IACAA,GACA,KAAAhB,OAAAiB,SAAA,mBAAAvC,YAAAqC,MACAlB,IACA,MAAAA,EAAAqB,UACA,KAAAlB,OAAAiB,SAAA,eACA,KAAAvB,QAAA,mEACA,KAAAtB,YAAA,EACA,IAEA+C,IACA,KAAAzB,QACAyB,EAAAC,UAAAD,EAAAC,SAAAvB,MACAsB,EAAAzB,SACAyB,EAAAE,WACA,KAAAjD,YAAA,IAGA,GAEA,EACAoB,eAAAA,CAAA8B,GACA,mBAAAA,GAAA,KAAArC,WAAA,KAAAC,OAAAC,IAAA,YACA,4EAEA,KAAAD,OAAAG,MAAAiC,EACA,IC1GoR,I,OCOhRC,GAAY,OACd,EACAjE,EACAsC,GACA,EACA,KACA,KACA,MAIF,EAAe2B,EAAiB,O","sources":["webpack://mango_site/./src/components/auth/views/userCrud/UserUpdate.vue","webpack://mango_site/src/components/auth/views/userCrud/UserUpdate.vue","webpack://mango_site/./src/components/auth/views/userCrud/UserUpdate.vue?063b","webpack://mango_site/./src/components/auth/views/userCrud/UserUpdate.vue?d39b"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"container\"},[_c('h1',[_vm._v(\"MODIFICA\")]),_c('form',{attrs:{\"name\":\"form\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.handleUpdate.apply(null, arguments)}}},[(!_vm.successful)?_c('div',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"Username\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.updateUser.username),expression:\"updateUser.username\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:3|max:20'),expression:\"'required|min:3|max:20'\"}],staticClass:\"form-control\",attrs:{\"type\":\"username\",\"id\":\"username\",\"name\":\"username\"},domProps:{\"value\":(_vm.updateUser.username)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.updateUser, \"username\", $event.target.value)}}}),(_vm.submitted && _vm.errors.has('username'))?_c('div',{staticClass:\"alert-danger\"},[_vm._v(_vm._s(_vm.errors.first('username')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.updateUser.email),expression:\"updateUser.email\"},{name:\"validate\",rawName:\"v-validate\",value:('required|email|max:50'),expression:\"'required|email|max:50'\"}],staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"email\",\"name\":\"email\"},domProps:{\"value\":(_vm.updateUser.email)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.updateUser, \"email\", $event.target.value)}}}),(_vm.submitted && _vm.errors.has('email'))?_c('div',{staticClass:\"alert-danger\"},[_vm._v(_vm._s(_vm.errors.first('email')))]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.updateUser.password),expression:\"updateUser.password\"},{name:\"validate\",rawName:\"v-validate\",value:('required|min:6|max:40'),expression:\"'required|min:6|max:40'\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"id\":\"password\",\"name\":\"password\"},domProps:{\"value\":(_vm.updateUser.password)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.updateUser, \"password\", $event.target.value)}}}),(_vm.submitted && _vm.errors.has('password'))?_c('div',{staticClass:\"alert-danger\"},[_vm._v(_vm._s(_vm.getErrorMessage('password')))]):_vm._e()]),_vm._m(0)]):_vm._e()]),(_vm.message)?_c('div',{staticClass:\"alert\",class:_vm.successful ? 'alert-success' : 'alert-danger'},[_vm._v(\" \"+_vm._s(_vm.message)+\" \"),_c('router-link',{attrs:{\"to\":\"/admin\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"}},[_vm._v(\"Home\")])])],1):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Modifica\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"container\">\r\n        <h1>MODIFICA</h1>\r\n        <form name=\"form\" @submit.prevent=\"handleUpdate\">\r\n            <div v-if=\"!successful\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"username\">Username</label>\r\n                    <input type=\"username\" class=\"form-control\" id=\"username\"  v-model=\"updateUser.username\" v-validate=\"'required|min:3|max:20'\" name=\"username\">\r\n                    <div v-if=\"submitted && errors.has('username')\" class=\"alert-danger\">{{ errors.first('username') }}</div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"email\">Email</label>\r\n                    <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"updateUser.email\" v-validate=\"'required|email|max:50'\" name=\"email\">\r\n                    <div v-if=\"submitted && errors.has('email')\" class=\"alert-danger\">{{ errors.first('email') }}</div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"password\">Password</label>\r\n                    <input type=\"password\" class=\"form-control\" id=\"password\" v-model=\"updateUser.password\" v-validate=\"'required|min:6|max:40'\" name=\"password\">\r\n                    <div v-if=\"submitted && errors.has('password')\" class=\"alert-danger\">{{ getErrorMessage('password') }}</div>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <button type=\"submit\" class=\"btn btn-primary\">Modifica</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n\r\n        <div v-if=\"message\" class=\"alert\" :class=\"successful ? 'alert-success' : 'alert-danger'\">\r\n            {{ message }}\r\n            <router-link to=\"/admin\">\r\n                <button type=\"button\" class=\"btn btn-primary\">Home</button>\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n    name: 'UserUpdate',\r\n    data() {\r\n        return {\r\n            updateUser: {\r\n                username: '',\r\n                email: '',\r\n                password: ''\r\n            },\r\n            submitted: false,\r\n            successful: false,\r\n            message: ''\r\n        };\r\n    },\r\n    computed: {\r\n        currentUser() {\r\n            return this.$store.state.auth.user;\r\n        },\r\n        ...mapState('auth', ['user'])\r\n    },\r\n    mounted() {\r\n        if (!this.currentUser) {\r\n            this.$router.push('/admin/login');\r\n        }\r\n    },\r\n    watch: {\r\n        user: {\r\n            handler(newValue) {\r\n                if (newValue && newValue.username) {\r\n                    if (newValue.username && newValue.email) {\r\n                        this.updateUser.username = newValue.username;\r\n                        this.updateUser.email = newValue.email;\r\n                    }\r\n                }\r\n            },\r\n            immediate: true\r\n        }\r\n    },\r\n    methods: {\r\n        handleUpdate() {\r\n            this.message = '';\r\n            this.submitted = true;\r\n            this.$validator.validate().then(isValid => {\r\n                if (isValid) {\r\n                    this.$store.dispatch('auth/update', this.updateUser).then(\r\n                        data => {\r\n                            if(data.payload != null){\r\n                                this.$store.dispatch('auth/logout');\r\n                                this.message = \"Modifica avvenuta con successo, ora effettua nuovamente il login\";\r\n                                this.successful = true;\r\n                            }                            \r\n                        },\r\n                        error => {\r\n                            this.message =\r\n                                (error.response && error.response.data) ||\r\n                                error.message ||\r\n                                error.toString();\r\n                            this.successful = false;\r\n                        }\r\n                    );\r\n                }\r\n            });\r\n        },\r\n        getErrorMessage(field) {\r\n            if (field === 'password' && this.submitted && this.errors.has('password')) {\r\n                return 'Inserisci la vecchia password oppure una nuova con minimo 6 e massimo 40!';\r\n            }\r\n            return this.errors.first(field);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserUpdate.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./UserUpdate.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./UserUpdate.vue?vue&type=template&id=10d34ffb\"\nimport script from \"./UserUpdate.vue?vue&type=script&lang=js\"\nexport * from \"./UserUpdate.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","$event","preventDefault","handleUpdate","apply","arguments","successful","_e","directives","name","rawName","value","updateUser","username","expression","domProps","target","composing","$set","submitted","errors","has","_s","first","email","password","getErrorMessage","_m","message","class","staticRenderFns","data","computed","currentUser","$store","state","auth","user","mapState","mounted","$router","push","watch","handler","newValue","immediate","methods","$validator","validate","then","isValid","dispatch","payload","error","response","toString","field","component"],"sourceRoot":""}