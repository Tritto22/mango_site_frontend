{"version":3,"file":"js/631.fbe8b226.js","mappings":"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","sources":["webpack:///./src/components/auth/views/paintingCrud/NewPainting.vue","webpack:///src/components/auth/views/paintingCrud/NewPainting.vue","webpack:///./src/components/auth/views/paintingCrud/NewPainting.vue?a5cd","webpack:///./src/components/auth/views/paintingCrud/NewPainting.vue?b9d7","webpack:///./src/services/painting.service.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[(!_vm.submitted)?_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"row col-md-8 offset-md-2\"},[_c('div',{staticClass:\"card w-100\"},[_c('div',{staticClass:\"card-body\"},[_c('form',{attrs:{\"role\":\"form\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.addPainting.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"title\"}},[_vm._v(\"Titolo\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.painting.title),expression:\"painting.title\"}],staticClass:\"form-control\",attrs:{\"id\":\"title\",\"placeholder\":\"Inserisci il titolo\",\"type\":\"text\"},domProps:{\"value\":(_vm.painting.title)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.painting, \"title\", $event.target.value)},_vm.validateTitle]}}),(!_vm.isTitleValid)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\"Il titolo non puÃ² essere vuoto o contenere solo spazi!\")]):_vm._e()]),_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"imageDataBytes\"}},[_vm._v(\"Link immagine quadro file\")]),_c('input',{staticClass:\"form-control-file\",attrs:{\"type\":\"file\",\"id\":\"imageDataBytes\"},on:{\"change\":_vm.handleFileChange}})]),_c('div',{staticClass:\"mb-3\"},[(_vm.countDetails > 0 && _vm.painting.details.length > 0)?_c('div',{staticClass:\"mb-3\"},_vm._l((_vm.countDetails),function(i){return _c('div',{key:i,staticClass:\"detail mb-2\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"i\"}},[_vm._v(\"Link dettaglio quadro\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.painting.details[i-1].name),expression:\"painting.details[i-1].name\"}],staticClass:\"form-control mb-1\",attrs:{\"type\":\"text\",\"id\":i,\"placeholder\":\"Inserisci il nome del dettaglio\"},domProps:{\"value\":(_vm.painting.details[i-1].name)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.painting.details[i-1], \"name\", $event.target.value)}}}),_c('input',{staticClass:\"form-control-file\",attrs:{\"type\":\"file\",\"id\":i},on:{\"change\":function($event){return _vm.handleFileChangeDetailImg($event, i-1)}}}),(_vm.errors.details)?_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.details))]):_vm._e()])}),0):_vm._e(),_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.addDetail}},[_vm._v(\"Aggiungi dettaglio\")])]),_c('div',{staticClass:\"form-group mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"size\"}},[_vm._v(\"Misure\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.painting.size),expression:\"painting.size\"}],staticClass:\"form-control\",attrs:{\"id\":\"size\",\"placeholder\":\"Inserisci le misure\",\"type\":\"text\"},domProps:{\"value\":(_vm.painting.size)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.painting, \"size\", $event.target.value)}}}),(_vm.errors.size)?_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.size))]):_vm._e()]),_c('div',{staticClass:\"form-group mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"year\"}},[_vm._v(\"Anno\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.painting.year),expression:\"painting.year\"}],staticClass:\"form-control\",attrs:{\"id\":\"year\",\"placeholder\":\"Inserisci l'anno\",\"type\":\"text\"},domProps:{\"value\":(_vm.painting.year)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.$set(_vm.painting, \"year\", $event.target.value)},_vm.validateYear]}}),(!_vm.isYearValid)?_c('p',{staticClass:\"text-danger\"},[_vm._v(\"L'anno deve essere compreso tra il 1993 e il 2199 \")]):_vm._e()]),_c('div',{staticClass:\"form-group mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"tecnique\"}},[_vm._v(\"Tecnica utilizzata\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.painting.tecnique),expression:\"painting.tecnique\"}],staticClass:\"form-control\",attrs:{\"id\":\"tecnique\",\"placeholder\":\"Inserisci le misure\",\"type\":\"text\"},domProps:{\"value\":(_vm.painting.tecnique)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.painting, \"tecnique\", $event.target.value)}}}),(_vm.errors.tecnique)?_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.tecnique))]):_vm._e()]),_c('div',{staticClass:\"form-group mb-3\"},[_c('label',{staticClass:\"form-label\",attrs:{\"for\":\"description\"}},[_vm._v(\"Descrizione\")]),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.painting.description),expression:\"painting.description\"}],staticClass:\"form-control\",attrs:{\"id\":\"description\",\"placeholder\":\"Inserisci la nuova descrizione\",\"rows\":\"5\"},domProps:{\"value\":(_vm.painting.description)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.painting, \"description\", $event.target.value)}}}),(_vm.errors.description)?_c('p',{staticClass:\"text-danger\"},[_vm._v(_vm._s(_vm.errors.description))]):_vm._e()]),_c('div',{staticClass:\"form-group form-check mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.painting.favorite),expression:\"painting.favorite\"}],staticClass:\"form-check-input\",attrs:{\"type\":\"checkbox\",\"id\":\"favorite\",\"role\":\"button\"},domProps:{\"checked\":Array.isArray(_vm.painting.favorite)?_vm._i(_vm.painting.favorite,null)>-1:(_vm.painting.favorite)},on:{\"change\":function($event){var $$a=_vm.painting.favorite,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.painting, \"favorite\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.painting, \"favorite\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.painting, \"favorite\", $$c)}}}}),_c('label',{staticClass:\"form-check-label\",attrs:{\"for\":\"favorite\"}},[_vm._v(\"Aggiungi ai preferiti\")])]),_vm._m(0)])])])])]):_vm._e(),(_vm.submitted)?_c('div',{class:_vm.successful ? 'alert-success text-center' : 'alert-danger text-center'},[_c('h3',[_vm._v(_vm._s(_vm.message))])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Crea\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <section>\r\n        <div v-if=\"!submitted\" class=\"container-fluid\">\r\n            <div class=\"row col-md-8 offset-md-2\">\r\n                <div class=\"card w-100\">\r\n                    <div class=\"card-body\">\r\n                        <form @submit.prevent=\"addPainting\" role=\"form\">\r\n                            <div class=\"form-group mb-3\">\r\n                                <label for=\"title\" class=\"form-label\">Titolo</label>\r\n                                <input class=\"form-control\" v-model=\"painting.title\" id=\"title\"\r\n                                    placeholder=\"Inserisci il titolo\" type=\"text\" @input=\"validateTitle\" />\r\n                                <p class=\"text-danger\" v-if=\"!isTitleValid\">Il titolo non puÃ² essere vuoto o contenere solo\r\n                                    spazi!</p>\r\n                            </div>\r\n\r\n                            <!-- <div class=\"mb-3\">\r\n                                <label for=\"img\" class=\"form-label\">Link immagine quadro</label>\r\n                                <input class=\"form-control\" v-model=\"painting.img\" type=\"text\" id=\"img\"\r\n                                    placeholder=\"Inserisci il link dell'immagine\">\r\n                                <p class=\"text-danger\" v-if=\"errors.img\">{{ errors.img }}</p>\r\n                            </div> -->\r\n\r\n<!-- ******************** File immagini ********************************************** -->\r\n\r\n                            <div class=\"form-group\">\r\n                                <label for=\"imageDataBytes\" class=\"form-label\">Link immagine quadro file</label>\r\n                                <input type=\"file\" class=\"form-control-file\" id=\"imageDataBytes\" @change=\"handleFileChange\">\r\n                            </div>\r\n\r\n<!-- ******************** End file immagini ********************************************** -->\r\n\r\n                            <div class=\"mb-3\">\r\n                                <!-- <div class=\"first-detail mb-2\">\r\n                                    <label for=\"0\" class=\"form-label\">Link dettaglio quadro</label>\r\n                                    <input class=\"form-control mb-1\" v-model=\"painting.details[0].name\" type=\"text\" id=\"0\" placeholder=\"Inserisci il nome del dettaglio\">\r\n                                    <input type=\"file\" class=\"form-control-file\" id=\"0\" @change=\"handleFileChangeDetailImg($event, 0)\">\r\n                                    <p class=\"text-danger\" v-if=\"errors.details\">{{ errors.details }}</p>\r\n                                </div> -->\r\n\r\n                                <div v-if=\"countDetails > 0 && painting.details.length > 0\" class=\"mb-3\">\r\n                                    <div class=\"detail mb-2\" v-for=\"i in countDetails\" :key=\"i\">\r\n                                        <label for=\"i\" class=\"form-label\">Link dettaglio quadro</label>\r\n                                        <input class=\"form-control mb-1\" v-model=\"painting.details[i-1].name\" type=\"text\" :id=\"i\" placeholder=\"Inserisci il nome del dettaglio\">\r\n                                        <input type=\"file\" class=\"form-control-file\" :id=\"i\" @change=\"handleFileChangeDetailImg($event, i-1)\">\r\n                                        <p class=\"text-danger\" v-if=\"errors.details\">{{ errors.details }}</p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <button type=\"button\" class=\"btn btn-info\" @click=\"addDetail\">Aggiungi dettaglio</button>\r\n                            </div>\r\n\r\n                            <div class=\"form-group mb-3\">\r\n                                <label for=\"size\" class=\"form-label\">Misure</label>\r\n                                <input class=\"form-control\" v-model=\"painting.size\" id=\"size\"\r\n                                    placeholder=\"Inserisci le misure\" type=\"text\" />\r\n                                <p class=\"text-danger\" v-if=\"errors.size\">{{ errors.size }}</p>\r\n                            </div>\r\n\r\n                            <div class=\"form-group mb-3\">\r\n                                <label for=\"year\" class=\"form-label\">Anno</label>\r\n                                <input class=\"form-control\" v-model=\"painting.year\" id=\"year\" placeholder=\"Inserisci l'anno\"\r\n                                    type=\"text\" @input=\"validateYear\" />\r\n                                <p class=\"text-danger\" v-if=\"!isYearValid\">L'anno deve essere compreso tra il 1993 e il 2199\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class=\"form-group mb-3\">\r\n                                    <label for=\"tecnique\" class=\"form-label\">Tecnica utilizzata</label>\r\n                                    <input class=\"form-control\" v-model=\"painting.tecnique\" id=\"tecnique\"\r\n                                        placeholder=\"Inserisci le misure\" type=\"text\" />\r\n                                    <p class=\"text-danger\" v-if=\"errors.tecnique\">{{ errors.tecnique }}</p>\r\n                                </div>\r\n\r\n                            <div class=\"form-group mb-3\">\r\n                                <label for=\"description\" class=\"form-label\">Descrizione</label>\r\n                                <textarea class=\"form-control\" v-model=\"painting.description\" id=\"description\"\r\n                                    placeholder=\"Inserisci la nuova descrizione\" rows=\"5\"></textarea>\r\n                                <p class=\"text-danger\" v-if=\"errors.description\">{{ errors.description }}</p>\r\n                            </div>\r\n\r\n                            <div class=\"form-group form-check mb-3\">\r\n                                <input type=\"checkbox\" class=\"form-check-input\" id=\"favorite\" v-model=\"painting.favorite\" role=\"button\">\r\n                                <label class=\"form-check-label\" for=\"favorite\">Aggiungi ai preferiti</label>\r\n                            </div>\r\n\r\n                            <div class=\"form-group\">\r\n                                <button class=\"btn btn-primary\" type=\"submit\">Crea</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div v-if=\"submitted\"\r\n            :class=\"successful ? 'alert-success text-center' : 'alert-danger text-center'\">\r\n            <h3>{{ message }}</h3>\r\n        </div>\r\n    </section>\r\n</template>\r\n\r\n<script>\r\nimport PaintingService from '../../../../services/painting.service';\r\n\r\nexport default {\r\n    name: 'NewPainting',\r\n    data() {\r\n        return {\r\n            painting: {\r\n                favorite: false,\r\n                details: []\r\n            },\r\n            imageDataBytes: null,\r\n            successful: false,\r\n            submitted: false,\r\n            message: '',\r\n            isTitleValid: true,\r\n            isYearValid: true,\r\n            countDetails: 0\r\n        }\r\n    },\r\n    computed: {\r\n        currentUser() {\r\n            return this.$store.state.auth.user;\r\n        }\r\n    },\r\n    mounted() {\r\n        if (!this.currentUser) {\r\n            this.$router.push('/admin/login');\r\n        }\r\n    },\r\n    methods: {\r\n        addPainting() {\r\n            this.submitted = true;\r\n            if(this.painting.details.length > 0){\r\n                if (this.painting.details[0].name == null && this.painting.details[0].imageBase64 == null) {\r\n                    this.painting.details = null\r\n                }\r\n            }\r\n\r\n            PaintingService.newPainting(this.painting).then(\r\n                data => {\r\n                    if (data.data.payload != null) {\r\n                        this.message = \"Nuovo quadro aggiunto con successo!\";\r\n                        this.successful = true;\r\n                    } else if (data.data.error != null) {\r\n                        this.message = data.data.error.msg;\r\n                        this.successful = false;\r\n                    }\r\n                },\r\n                error => {\r\n                    this.message =\r\n                        (error.response && error.response.data) ||\r\n                        error.message ||\r\n                        error.toString();\r\n                    this.successful = false;\r\n                    \r\n                    if (error.response && error.response.status === 403) {\r\n                        this.$store.dispatch('auth/logout');\r\n                        this.$router.push('/admin/login');\r\n                    }\r\n                }\r\n            );\r\n        },\r\n        validateTitle() {\r\n            this.isTitleValid = this.painting.title.trim() !== '';\r\n        },\r\n        validateYear() {\r\n            if (this.painting.year >= 1993 && this.painting.year <= 2199) {\r\n                this.isYearValid = true\r\n            } else {\r\n                this.isYearValid = false\r\n            }\r\n\r\n        },\r\n        addDetail(){\r\n            this.countDetails ++;\r\n            this.painting.details.push({});\r\n        },\r\n        handleFileChange(event) {\r\n            const fileInput = event.target;\r\n            const file = fileInput.files[0];\r\n\r\n            if (file) {\r\n                this.readFile(file);\r\n            }\r\n        },\r\n        readFile(file) {\r\n            const reader = new FileReader();\r\n\r\n            reader.onload = (e) => {\r\n                // Ottieni il base64 dal risultato del FileReader\r\n                this.painting.imageDataBase64 = e.target.result;\r\n            };\r\n\r\n            // Leggi il file come URL data (base64)\r\n            reader.readAsDataURL(file);\r\n        },\r\n        handleFileChangeDetailImg(event, i) {\r\n            const fileInput = event.target;\r\n            const file = fileInput.files[0];\r\n            if (file) {\r\n                this.readFileDetail(file, i);\r\n            }\r\n        },\r\n        readFileDetail(file, i) {\r\n            const reader = new FileReader();\r\n\r\n            reader.onload = (e) => {\r\n                // Ottieni il base64 dal risultato del FileReader\r\n                this.painting.details[i].imageBase64 = e.target.result;\r\n            };\r\n\r\n            // Leggi il file come URL data (base64)\r\n            reader.readAsDataURL(file);\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style></style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewPainting.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./NewPainting.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./NewPainting.vue?vue&type=template&id=72a6ac6a\"\nimport script from \"./NewPainting.vue?vue&type=script&lang=js\"\nexport * from \"./NewPainting.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios';\r\nimport authHeader from './auth-header';\r\n\r\n// const API_URL = 'http://localhost:8080/api/admin/';\r\nconst API_URL = 'https://www.simonetritto.site/api/admin/';\r\naxios.defaults.headers.common['Access-Control-Allow-Origin'] = '*';\r\naxios.defaults.headers.common['Access-Control-Allow-Headers'] = 'Origin, X-Requested-With, Content-Type, Accept';\r\naxios.defaults.withCredentials = false;\r\naxios.defaults.crossDomain = true;\r\n\r\nclass PaintingService {\r\n    newPainting(painting){\r\n        if (\r\n            painting.title !== '' && // Aggiunto controllo sull'input non vuoto\r\n            painting.year >= 1993 &&\r\n            painting.year <= 2199\r\n        ) {\r\n            return axios.post(API_URL + 'addPainting', painting, { headers: authHeader()});\r\n        } else {\r\n            return Promise.reject(\"I dati del quadro non sono validi. Il titolo e l'anno non possono essere vuoti.\");\r\n        }\r\n    }\r\n\r\n    getDashboard(pageNumber, pageSize) {\r\n        return axios.get(`${API_URL}dashboard?pageNumber=${pageNumber}&pageSize=${pageSize}`, { headers: authHeader() });\r\n    }\r\n\r\n    getSinglePainting(slug) {\r\n        return axios.get(`${API_URL}single-view?slug=${slug}`, { headers: authHeader() });\r\n    }\r\n\r\n    update(painting){    \r\n        if (\r\n            painting.title !== '' && // Aggiunto controllo sull'input non vuoto\r\n            painting.year >= 1993 &&\r\n            painting.year <= 2199\r\n        ) {\r\n            return axios.put(API_URL + 'update', painting, { headers: authHeader() });\r\n        } else {\r\n            return Promise.reject(\"I dati del quadro non sono validi.\");\r\n        }\r\n    }\r\n\r\n    delete(painting){\r\n        if(painting.slug != null){\r\n            return axios.delete(API_URL + 'delete', { data: painting, headers: authHeader() });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default new PaintingService();"],"names":["render","_vm","this","_c","_self","submitted","_e","staticClass","attrs","on","$event","preventDefault","addPainting","apply","arguments","_v","directives","name","rawName","value","painting","title","expression","domProps","target","composing","$set","validateTitle","isTitleValid","handleFileChange","countDetails","details","length","_l","i","key","handleFileChangeDetailImg","errors","_s","addDetail","size","year","validateYear","isYearValid","tecnique","description","favorite","Array","isArray","_i","$$a","$$el","$$c","checked","$$v","$$i","concat","slice","_m","class","successful","message","staticRenderFns","data","imageDataBytes","computed","currentUser","$store","state","auth","user","mounted","$router","push","methods","imageBase64","PaintingService","newPainting","then","payload","error","msg","response","toString","status","dispatch","trim","event","fileInput","file","files","readFile","reader","FileReader","onload","e","imageDataBase64","result","readAsDataURL","readFileDetail","component","API_URL","axios","defaults","headers","common","withCredentials","crossDomain","post","authHeader","Promise","reject","getDashboard","pageNumber","pageSize","get","getSinglePainting","slug","update","put","delete"],"sourceRoot":""}